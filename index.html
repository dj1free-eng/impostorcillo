<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>El Impostorcillo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />


</head>
<body>
  <div class="app">
    <div class="card">

      <!-- botón de menú global -->
      <button class="menu-button" onclick="goToSetup()">
        <span>≡</span>
      </button>

      <!-- PANTALLA: INICIO -->
      <div id="screen-start" class="screen">
        <div class="hero-illustration">
          <img src="img/impostor-hero.png" alt="Impostorcillo">
        </div>

        <h1>El Impostorcillo</h1>
        <p class="center">
          El juego social de deducción y engaño.<br>
          ¡Intenta no parecer sospechoso!
        </p>

        <button onclick="goToSetup()">Nueva partida</button>
          <p id="appVersion" class="small version-label"></p>
      </div>

      <!-- PANTALLA: CONFIGURACIÓN -->
      <div id="screen-setup" class="screen hidden">

        <div class="title-row">
          <img src="img/impostor-icon.png" class="title-icon">
          <h2>Configuración</h2>
        </div>

        <label for="selectPlayers">Número de jugadores</label>
        <select id="selectPlayers">
          <option value="3" selected>3 jugadores</option>
          <option value="4">4 jugadores</option>
          <option value="5">5 jugadores</option>
          <option value="6">6 jugadores</option>
          <option value="7">7 jugadores</option>
          <option value="8">8 jugadores</option>
          <option value="9">9 jugadores</option>
          <option value="10">10 jugadores</option>
        </select>

        <label>Nombre de los jugadores</label>
        <div id="playerNamesContainer"></div>

        <label for="selectCategory">Categoría</label>
        <select id="selectCategory">
  <option value="aleatorio">Aleatorio</option>
  <option value="comida">Comida</option>
  <option value="animales">Animales</option>
  <option value="objetos">Objetos</option>
  <option value="sitios">Sitios</option>
  <option value="deportes">Deportes</option>
  <option value="videojuegos">Videojuegos</option>
  <option value="transportes">Transportes</option>
</select>


        <button onclick="startGame()">Empezar</button>
        <button class="secondary" onclick="backToStart()">Volver</button>

        <p class="small">
          Modo: 1 Impostorcillo por ronda. Las acusaciones se hacen hablando.
        </p>

      </div>

      <!-- PANTALLA: ROL DEL JUGADOR -->
      <div id="screen-role" class="screen hidden">

<div class="role-badge-row">
  <span class="badge" id="playerOrder"></span>
</div>
<h2 id="playerNameBig" class="player-name-big"></h2>
  <div class="card-slider">
    <!-- Parte trasera: el rol -->
    <div class="card-back">
      <h3 id="roleTitle"></h3>
      <div id="roleWord"></div>
      <p class="role-tip" id="roleTip"></p>
    </div>

    <!-- Parte frontal: carta deslizante con avatar -->
    <div class="card-front" id="cardFront">
      <img id="frontAvatar" src="img/avatar1.png" class="card-front-img" alt="avatar del jugador">
      <p class="slide-text">Desliza hacia arriba para ver tu rol</p>
    </div>
  </div>

  <p id="instructionText" class="small"></p>


<!-- Botón alternativo para ratón / dispositivos sin touch -->
<button id="toggleRoleBtn" class="secondary" style="width:90%;max-width:320px;margin:10px auto 0;display:block;">
  Mostrar rol
</button>

<button id="nextPlayerBtn" class="secondary hidden" onclick="nextPlayer()">
  Jugador siguiente
</button>

</div>

      <!-- PANTALLA: DEBATE -->
      <div id="screen-debate" class="screen hidden">
        <h2>Debatid y votad</h2>
<p id="starterInfo" class="center" style="font-size:1.1rem; margin-top:10px;">
  </p>
        <p class="center">
          Todos han visto ya su rol.<br><br>
          Ahora toca hablar:
        </p>

        <ul style="font-size:0.95rem; line-height:1.5;">
          <li>Cada jugador dice una pista sobre la palabra.</li>
          <li>Comentad, defendedos y acusad al sospechoso.</li>
          <li>Haced una votación final.</li>
        </ul>

        <button id="btnGoReveal">Ver resultado</button>
      </div>

      <!-- PANTALLA: REVELACIÓN -->
      <div id="screen-reveal" class="screen hidden">

        <h2>Revelación</h2>

        <p class="center">La palabra secreta era:</p>
        <div id="finalWord" style="font-size:1.9rem; text-align:center; margin:12px 0;"></div>

        <p class="center">
          El Impostorcillo era<br>
          <span class="highlight" id="impostorPlayer"></span>
        </p>

        <button onclick="startAnotherRound()">Jugar otra ronda</button>
        <button class="secondary" onclick="backToStart()">Volver al inicio</button>
      </div>

    </div>
  </div>

</body>
</html>
